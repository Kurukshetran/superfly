<atlassian-plugin key="com.payneteasy.superfly.superfly-jira-integration" name="Superfly Integration" plugins-version="1">
    <plugin-info>
        <description>Provides integration with Superfly</description>
        <version>1.1-1</version>
        <vendor name="Superfly" url="http://code.google.com/p/superfly/" />
    </plugin-info>
    	
	<servlet-filter name="logoutNotificationSinkFilter"  key="logoutNotificationSinkFilter"
			class="com.payneteasy.superfly.client.session.LogoutNotificationSinkFilter"
			location="after-encoding" weight="0">
		<description>Destroys sessions for users which were logged out on the Superfly server.</description>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
	</servlet-filter>
	
	<servlet-filter name="usersChangedNotificationSinkFilter"  key="usersChangedNotificationSinkFilter"
			class="com.payneteasy.superfly.jira.filter.UsersChangedNotificationSinkFilter"
			location="after-encoding" weight="10">
		<description>Destroys users cache and makes users to be refetched from the Superfly server.</description>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
	</servlet-filter>
		
	<servlet-context-param key="superfly-properties-location">
		<param-name>superfly-properties-location</param-name>
		<param-value>classpath:superfly/superfly.properties</param-value>
	</servlet-context-param>
	
	<servlet-context-listener name="initializerContextListener" 
			key="initializerContextListener"
			class="com.payneteasy.superfly.jira.init.InitializerContextListener">
		<description>Initializes the plugin at start-up.</description>
	</servlet-context-listener>
</atlassian-plugin>